(this["webpackJsonpsubway-react-ecommerce"]=this["webpackJsonpsubway-react-ecommerce"]||[]).push([[0],{260:function(e,a,t){e.exports=t(440)},440:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(62),l=t.n(c),i=t(18),o=t(449),u=t(15),m="PRODUCT_PAGE_SELECTED",s="HOME_PAGE_SELECTED",d="CHECKOUT_PAGE_REQUEST_SUBMITTED",g="NAVIGATE_TO_PRODUCT_DETAILS",E="NAVIGATE_TO_CHECKOUT_PAGE",p=t(224),f="SELECT_HOME_PAGE",b=[{command:f,handler:function(e,a){return Object(p.a)(e),(0,a.triggerEvents)([{id:s}])}}],v=t(22),h=[{command:s,handler:function(e,a){var t=e.state;(0,a.updateState)(Object(v.a)({},t,{selectedProductName:null,currentPage:"home"}))}},{command:m,handler:function(e,a){var t=e.state,n=e.payload;(0,a.updateState)(Object(v.a)({},t,{selectedProductName:n.product.title,currentPage:"product"}))}},{command:d,handler:function(e,a){var t=e.state;(0,a.updateState)(Object(v.a)({},t,{selectedProductName:null,currentPage:"checkout"}))}}],C=t(463),O=t(464),y=t(462),A=t(456),w=t(52),S=t(458),T=t(452),j=function(){u.a.selectAggregate(D).command(f)};function P(e){var a=e.shoppingCartMenuItem,t=Object(u.c)(D,"SESSION_STATUS_UPDATED",(function(e){return e})),n=Object(i.a)(t,1)[0]||{},c=n.userLogged,l=n.username,m=Object(u.b)(D,(function(e){return e.currentPage})),s=Object(i.a)(m,1)[0];return r.a.createElement(C.a,{size:"small",borderless:!0,fixed:"top"},r.a.createElement(o.a,null,r.a.createElement(C.a.Item,null,r.a.createElement(O.a,{color:"teal"},"SubwayJS eComm")),"checkout"!==s&&r.a.createElement(C.a.Item,{position:"right"},a,!c&&r.a.createElement(y.a,{onClick:function(){u.a.selectAggregate(D).publicChannel().command("SHOW_LOGIN_MODAL")},style:{marginLeft:10},color:"teal",basic:!0}," ","Log-in"),c&&r.a.createElement(A.a,{on:"click",position:"bottom right",trigger:r.a.createElement(y.a,{basic:!0,color:"teal",icon:!0,style:{marginLeft:10}},r.a.createElement(w.a,{name:"user"}))},r.a.createElement(A.a.Content,{style:{padding:"0 !important"}},r.a.createElement(S.a.Header,null,"Hi, ".concat(l)," "),r.a.createElement(T.a,null),r.a.createElement(S.a,{selection:!0,verticalAlign:"middle"},r.a.createElement(S.a.Item,{onClick:function(){u.a.selectAggregate(D).publicChannel().command("PERFORM_USER_LOGOUT")}},"Logout")))))))}var _=t(466),k=t(467);function I(){var e=Object(u.b)(D),a=Object(i.a)(e,1)[0]||{},t=a.currentPage,n=a.selectedProductName;return r.a.createElement(_.a,{relaxed:!0,columns:2},r.a.createElement(_.a.Column,null,r.a.createElement(k.a,null,"home"===t&&r.a.createElement(k.a.Section,{active:!0},"Products"),"product"===t&&n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Section,{active:!0,link:!0,onClick:function(){return j()}},"Products"),r.a.createElement(k.a.Divider,null),r.a.createElement(k.a.Section,{active:!0},n)),"checkout"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Section,{active:!0,link:!0,onClick:function(){return j()}},"Products"),r.a.createElement(k.a.Divider,null),r.a.createElement(k.a.Section,{active:!0},"Checkout")))),("product"===t||"checkout"===t)&&r.a.createElement(_.a.Column,{textAlign:"right"},r.a.createElement(y.a,{onClick:function(){return j()},size:"tiny",content:"Back to products",icon:"angle left",color:"teal",labelPosition:"left"})))}var D="NavigationAggregate",L={name:D,initialState:{currentPage:"home"},cmdHandlers:b,evtHandlers:h,bootstrap:function(){u.a.selectAggregate(D).publicChannel().reactToCommand(g,(function(e,a){var t=e.payload;(0,a.triggerEvents)([{id:m,payload:t}])})),u.a.selectAggregate(D).publicChannel().reactToCommand(E,(function(e,a){var t=e.payload;(0,a.triggerEvents)([{id:d,payload:t}])}))}},R="LoadProductsList",U=function(e){u.a.selectAggregate(te).publicChannel().command("ADD_TO_SHOPPING_CART",{product:e})},H=t(45),x=t.n(H),M="ProductsListLoaded",N="PRODUCT_SELECTED_FOR_DETAILS",z=[{id:10,img:"images/products/air-jordan-1-i.jpg",title:"Air Jordan I",price:"199.00",newPrice:"149.99",ccy:"$",rating:"5",reviewsCount:54},{id:11,img:"images/products/air-jordan-original-2.jpg",title:"Air Jordan II",price:"199.00",newPrice:"249.00",ccy:"$",rating:"4",reviewsCount:12},{id:12,img:"images/products/air-jordan-3.jpg",title:"Air Jordan III",price:"199.00",ccy:"$",rating:"4",reviewsCount:43},{id:13,img:"images/products/air-jordan-4.jpg",title:"Air Jordan IV",price:"199.00",ccy:"$",rating:"2",reviewsCount:76},{id:14,img:"images/products/air-jordan-og-5-fire-red.jpeg",title:"Air Jordan V",price:"199.00",ccy:"$",rating:"5",reviewsCount:23},{id:15,img:"images/products/air-jordan-6.jpg",title:"Air Jordan VI",price:"199.00",ccy:"$",rating:"4",reviewsCount:54},{id:16,img:"images/products/air-jordan-7.jpg",title:"Air Jordan VII",price:"199.00",ccy:"$",rating:"2",reviewsCount:13},{id:17,img:"images/products/air-jordan-8.jpg",title:"Air Jordan VII",price:"199.00",ccy:"$",rating:"4",reviewsCount:43},{id:18,img:"images/products/air-jordan-9.jpg",title:"Air Jordan IX",price:"199.00",ccy:"$",rating:"4",reviewsCount:55},{id:19,img:"images/products/air-jordan-10.jpg",title:"Air Jordan X",price:"199.00",ccy:"$",rating:"5",reviewsCount:12},{id:20,img:"images/products/air-jordan-11.jpg",title:"Air Jordan XI",price:"199.00",newPrice:"149.00",ccy:"$",rating:"5",reviewsCount:23},{id:21,img:"images/products/air-jordan-12.jpg",title:"Air Jordan XII",price:"199.00",newPrice:"149.00",ccy:"$",rating:"5",reviewsCount:132}],G=[{command:R,handler:function(e,a){var t,n;return x.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.state,e.payload,t=a.triggerEvents,r.next=4,x.a.awrap(new Promise((function(e,a){setTimeout((function(){e(z.reverse())}),500)})));case 4:n=r.sent,t([{id:M,payload:{productsList:n}}]);case 6:case"end":return r.stop()}}))}},{command:"SELECT_PRODUCT",handler:function(e,a){e.state;var t=e.payload;(0,a.triggerEvents)([{id:N,payload:{product:t.product}}])}}],F=[{command:M,handler:function(e,a){var t=e.state,n=e.payload,r=void 0===n?{}:n,c=a.updateState,l=r.productsList;c(Object(v.a)({},t,{productsList:l}))}},{command:N,handler:function(e,a){var t=e.state,n=e.payload,r=void 0===n?{}:n,c=a.updateState,l=r.product;c(Object(v.a)({},t,{selectedProduct:l}))}}],J=t(460),B=t(253),V=t(465),$=t(470),W=t(115);function Y(e){var a=e.product,t=e.size,c=e.onClick,l=Object(n.useState)(!1),o=Object(i.a)(l,2),u=o[0],m=o[1];return r.a.createElement(y.a,{size:t,fluid:!0,loading:u,color:"teal",onClick:function(){m(!0),setTimeout((function(){c(a),m(!1)}),500)}},r.a.createElement(y.a.Content,null,r.a.createElement(w.a,{name:"shop"})," Add to cart"))}function q(){var e=Object(n.useState)(null),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(u.b)(te,(function(e){return e.productsList})),o=Object(i.a)(l,1)[0];return r.a.createElement(_.a,{columns:3},o&&o.map((function(e){var a=e.id,n=e.img,l=e.title,i=e.price,o=e.rating,m=e.reviewsCount,s=e.newPrice,d=void 0===s?null:s,g=e.ccy;return r.a.createElement(_.a.Column,{key:a},r.a.createElement(J.a,null,d&&r.a.createElement(B.a,{fluid:!0,label:{as:"a",color:"orange",corner:"left",icon:"star"}}),r.a.createElement(V.a.Dimmable,{style:{padding:40,backgroundColor:"white"},as:B.a,onMouseOver:function(){c(a)},onMouseLeave:function(){c(null)},dimmed:t===a},r.a.createElement(B.a,{src:n,wrapped:!0}),r.a.createElement(V.a,{active:t===a},r.a.createElement(y.a,{basic:!0,size:"small",color:"teal",onClick:function(){return function(e){var a=u.a.selectAggregate(te);a.publicChannel().command("NAVIGATE_TO_PRODUCT_DETAILS",{product:e}),a.command("SELECT_PRODUCT",{product:e})}(e)}},r.a.createElement(y.a.Content,null,r.a.createElement(w.a,{name:"magnify"})," Product details")))),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,{as:"a"},l),r.a.createElement(J.a.Meta,null,r.a.createElement($.a,{size:"mini",disabled:!0,icon:"star",defaultRating:o,maxRating:5})," ",m," Reviews"),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a.Description,null,r.a.createElement("strike",null,g,i)," ",r.a.createElement(w.a,{name:"arrow right"})," ",r.a.createElement(W.a,{as:"span",color:"orange",tag:!0},g,d))),!d&&r.a.createElement(J.a.Description,null,g,i," ")),r.a.createElement(J.a.Content,{extra:!0},r.a.createElement(Y,{size:"small",product:e,onClick:U}))))})))}var Q=t(468);function X(){var e=Object(u.b)(te,(function(e){return e.selectedProduct})),a=Object(i.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null," ",a&&r.a.createElement(Q.a.Group,{horizontal:!0},r.a.createElement(Q.a,{padded:"very"},r.a.createElement(B.a,{src:a.img,wrapped:!0}),r.a.createElement(Q.a.Group,{horizontal:!0,compact:!0},[1,2,3].map((function(e){return r.a.createElement(Q.a,{key:e,basic:!0},r.a.createElement(B.a,{src:a.img,size:"tiny"}))})))),r.a.createElement(Q.a,null,r.a.createElement(O.a,{size:"huge"},a.title," ",a.newPrice&&r.a.createElement(W.a,{as:"span",color:"orange",tag:!0},"ON SALE")),r.a.createElement(o.a,null,r.a.createElement($.a,{disabled:!0,icon:"star",defaultRating:a.rating,maxRating:5})," ",a.reviewsCount," Reviews"),r.a.createElement("br",null),r.a.createElement(o.a,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.a.createElement("br",null),a.newPrice&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{as:"span",color:"grey",basic:!0,size:"huge"},r.a.createElement("strike",null,a.ccy,a.price)),r.a.createElement(w.a,{name:"arrow right",size:"big"}),r.a.createElement(W.a,{as:"span",color:"orange",size:"huge"},a.ccy,a.newPrice)),!a.newPrice&&r.a.createElement(O.a,{size:"huge"},a.ccy,a.price),r.a.createElement(T.a,null),r.a.createElement(Y,{size:"huge",product:a,onClick:U}))))}var K=t(471),Z=t(461),ee=["This is NOT a real ecommerce","Prices and ratings are not real","All product and company names are trademarks\u2122 or registered\xae trademarks of their respective holders. Use of them does not imply any affiliation with or endorsement by them."];function ae(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)((function(){setTimeout((function(){c(!0)}),4e3)}),[]);return r.a.createElement(K.a,{visible:t,animation:"fade up",duration:500},r.a.createElement(Z.a,{color:"teal",size:"tiny",onDismiss:function(){c(!1)},style:{position:"fixed",zIndex:10,bottom:0,right:0,width:"100%"},header:"Disclaimer",list:ee}))}var te="ProductsAggregate",ne={name:te,initialState:{productsList:[],selectedProduct:null},cmdHandlers:G,evtHandlers:F,bootstrap:function(){u.a.selectAggregate(te).command(R)}},re="PRODUCT_ADDED_TO_CART",ce="ORDER_PROCESSED",le="ADD_TO_SHOPPING_CART",ie={SUBMIT_ORDER:"SUBMIT_ORDER"},oe=[{command:ie.SUBMIT_ORDER,handler:function(e,a){var t,n,r,c,l;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.state,t=e.payload,n=a.triggerEvents,r=t.items,i.next=5,x.a.awrap(new Promise((function(e,a){setTimeout((function(){e({status:"ok"})}),1e3)})));case 5:c=i.sent,l=[],"ok"===c.status&&(l=l.concat([{id:ce,payload:{successful:!0,items:r}}])),n(l);case 10:case"end":return i.stop()}}))}}],ue=[{command:re,handler:function(e,a){var t=e.state,n=e.payload,r=a.updateState,c=n.product,l=t.items;if(l.has(c.id)){var i=l.get(c.id);l.set(c.id,Object(v.a)({},c,{count:i.count+1}))}else l.set(c.id,Object(v.a)({},c,{count:1}));r(Object(v.a)({},t,{items:l,checkoutSuccessful:!1}))}},{command:ce,handler:function(e,a){e.state;var t=e.payload;(0,a.updateState)({checkoutSuccessful:t.successful,items:new Map})}}],me=t(457);function se(e){e.size;var a=Object(u.b)(Ee,(function(e){return e||{}})),t=(Object(i.a)(a,1)[0]||{}).items,n=void 0===t?new Map:t,c=Array.from(n).map((function(e){return Object(v.a)({},e[1])})),l=c.reduce((function(e,a){return+e+ +a.count}),0);return r.a.createElement(A.a,{on:"click",position:"bottom right",trigger:r.a.createElement(y.a,{color:"teal",icon:!0},r.a.createElement(w.a,{name:"shopping cart"}),l>0&&"    (".concat(l,")"))},r.a.createElement(A.a.Content,null,(!c||0===c.length)&&r.a.createElement(Q.a,{basic:!0,textAlign:"center"},r.a.createElement(w.a,{name:"frown outline",size:"big",color:"teal"}),r.a.createElement(O.a,{size:"tiny"},r.a.createElement(O.a.Subheader,null,"Your shopping cart is empty"))),c&&c.length>0&&r.a.createElement(me.a.Group,{divided:!0},c.map((function(e){var a=e.id,t=e.img,n=e.title,c=e.price,l=e.newPrice,i=e.ccy,o=e.count;return r.a.createElement(me.a,{key:a},r.a.createElement(me.a.Image,{size:"mini",src:t}),r.a.createElement(me.a.Content,null,r.a.createElement(me.a.Description,null,o&&o>1&&r.a.createElement(W.a,{circular:!0,size:"tiny",color:"black"},"x",o)," ",n),r.a.createElement(me.a.Meta,null,r.a.createElement("span",{className:"price"},i,(l||c)*o))))})),r.a.createElement(me.a,null,r.a.createElement(me.a.Header,{as:"h4"},"Total: ",c[0].ccy," ",c.reduce((function(e,a){return+e+ +(a.newPrice||a.price)*a.count}),0).toFixed(2))),r.a.createElement(me.a,null,r.a.createElement(me.a.Content,null,r.a.createElement(y.a,{fluid:!0,color:"teal",onClick:function(){u.a.selectAggregate(Ee).publicChannel().command("NAVIGATE_TO_CHECKOUT_PAGE")}},"Checkout"))))))}var de=t(459);function ge(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),m=o[0],s=o[1],d=Object(u.b)(Ee),g=Object(i.a)(d,1)[0],E=g||{},p=E.items,f=void 0===p?[]:p,b=E.checkoutSuccessful,h=void 0!==b&&b,C=Object(u.c)(Ee,"SESSION_STATUS_UPDATED"),A=Object(i.a)(C,1)[0]||{},S=A.userLogged,T=A.username;Object(n.useEffect)((function(){s(h),c(!1)}),[h]);var j=Array.from(f||[]).map((function(e){return Object(v.a)({},e[1])})),P=j[0]?j[0].ccy:null,_=j.reduce((function(e,a){return+e+ +a.count}),0),k=j.reduce((function(e,a){return+e+ +(a.newPrice||a.price)*a.count}),0).toFixed(2);return!t&&m?r.a.createElement(O.a,{color:"teal",style:{marginTop:100},as:"h2",icon:!0,textAlign:"center"},r.a.createElement(w.a,{name:"winner"}),"Order processed successfully!",r.a.createElement(O.a.Subheader,null,"Thanks ",T,"! You will receive your products tomorrow!")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t),r.a.createElement(de.a,{columns:4,color:"teal"},r.a.createElement(de.a.Header,null,r.a.createElement(de.a.Row,null,r.a.createElement(de.a.HeaderCell,{width:5},"PRODUCT"),r.a.createElement(de.a.HeaderCell,{textAlign:"center"},"QUANTITY"),r.a.createElement(de.a.HeaderCell,{width:5,textAlign:"center"},"UNIT PRICE"),r.a.createElement(de.a.HeaderCell,{width:5,textAlign:"right"},"TOTAL"))),r.a.createElement(de.a.Body,null,j.map((function(e){var a=e.id,t=e.title,n=e.count,c=e.newPrice,l=e.price,i=e.ccy,o=e.img;return r.a.createElement(de.a.Row,{key:a},r.a.createElement(de.a.Cell,null,c&&r.a.createElement(W.a,{color:"orange",size:"mini",ribbon:!0},"OFFER!"),t," ",r.a.createElement(B.a,{src:o,size:"mini"})),r.a.createElement(de.a.Cell,{textAlign:"center"}," ",n),r.a.createElement(de.a.Cell,{textAlign:"center"},r.a.createElement(O.a,{as:"h5"},r.a.createElement(O.a.Content,null,c||l," ",i,c&&r.a.createElement(O.a.Subheader,{style:{textDecoration:"line-through"}},l," ",i)))),r.a.createElement(de.a.Cell,{positive:!0,textAlign:"right"},r.a.createElement(O.a,{as:"h4"},r.a.createElement(O.a.Content,null,((c||l)*n).toFixed(2)," ",i))))}))),r.a.createElement(de.a.Footer,null,r.a.createElement(de.a.Row,null,r.a.createElement(de.a.HeaderCell,null),r.a.createElement(de.a.HeaderCell,{textAlign:"center"},_," articles"),r.a.createElement(de.a.HeaderCell,null),r.a.createElement(de.a.HeaderCell,{positive:!0,textAlign:"right"},k," ",P)))),r.a.createElement(Z.a,{color:"teal",attached:!0},r.a.createElement(O.a,{as:"h4"},T?"Hi ".concat(T,", you can buy in one click!"):"Buy in one click",r.a.createElement(O.a.Subheader,null,"Pay with your default paying method and receive tomorrow at your home address.")),r.a.createElement("br",null),!m&&!t&&S&&r.a.createElement(y.a,{color:"orange",floated:"right",onClick:function(){var e;c(!0),e=j,u.a.selectAggregate(Ee).command(ie.SUBMIT_ORDER,{items:e})}},"Buy in 1-click!"),!m&&!t&&!S&&r.a.createElement(y.a,{animated:"fade",color:"teal",floated:"right",onClick:function(){u.a.selectAggregate(Ee).publicChannel().command("SHOW_LOGIN_MODAL")}},r.a.createElement(y.a.Content,{visible:!0},"Buy in 1-click!"),r.a.createElement(y.a.Content,{hidden:!0},"Login first")),!m&&t&&r.a.createElement(y.a,{color:"orange",disabled:!0,floated:"right",loading:!0},"Buy in 1-click!"),!t&&m&&"FINALIZED",r.a.createElement("br",null),r.a.createElement("br",null)),!S&&r.a.createElement(Z.a,{attached:"bottom",warning:!0},r.a.createElement(w.a,{name:"info"}),"If you are not logged in, we will ask for your credentials before proceeding with the order"))}var Ee="ShoppingCartAggregate",pe={name:Ee,initialState:{checkoutSuccessful:null,items:new Map},cmdHandlers:oe,evtHandlers:ue,bootstrap:function(){u.a.selectAggregate(Ee).publicChannel().reactToCommand(le,(function(e,a){var t=e.payload;(0,a.triggerEvents)([{id:re,payload:t}])}))}},fe="LOGIN_MODAL_VISIBILITY_UPDATED",be="LOGIN_MODAL_REQUESTED",ve="LOGOUT_USER_REQUESTED",he="USER_SUCCESSFULLY_AUTHENTICATED",Ce="SESSION_STATUS_UPDATED",Oe="SHOW_LOGIN_MODAL",ye="PERFORM_USER_LOGOUT",Ae="UPDATE_LOGIN_MODAL_VISIBILITY",we="AUTHENTICATE_USER",Se="MichaelJordan23",Te="air23",je=function(e,a){return new Promise((function(t,n){setTimeout((function(){t(e===Se&&a===Te?{status:"ok",jwt:"fake.jwt.token"}:{status:"ko",message:"wrong credentials"})}),1e3)}))},Pe=[{command:Ae,handler:function(e,a){e.state;var t=e.payload;return(0,a.triggerEvents)([{id:fe,payload:t}])}},{command:we,handler:function(e,a){var t,n,r,c,l,i,o,u,m;return x.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.state,t=e.payload,n=a.triggerEvents,r=a.rejectCommand,c=t.username,l=t.password,s.next=5,x.a.awrap(je(c,l));case 5:if(i=s.sent,o=[],"ok"===(u=i.status)&&(m=i.jwt,o=o.concat([{id:he,payload:{jwt:m,username:c}}])),"ko"!==u){s.next=12;break}return r("Authentication failed",i.message),s.abrupt("return");case 12:n(o);case 13:case"end":return s.stop()}}))}}],_e=[{command:fe,handler:function(e,a){var t=e.state,n=e.payload;(0,a.updateState)(Object(v.a)({},t,{loginModalVisible:n.show}))}},{command:be,handler:function(e,a){e.state,e.payload;(0,a.triggerEvents)([{id:fe,payload:{show:!0}}])}},{command:he,handler:function(e,a){var t=e.state,n=e.payload,r=a.triggerEvents,c=a.updateState,l=a.broadcastEvent,i=n.jwt,o=n.username;l(Ce,{userLogged:!0,username:o}),c(Object(v.a)({},t,{userLogged:!0,loginModalVisible:!1,jwt:i,username:o})),r([{id:Ce,payload:{userLogged:!0,username:o}}])}},{command:ve,handler:function(e,a){var t=e.state,n=(e.payload,a.triggerEvents),r=a.updateState;(0,a.broadcastEvent)(Ce,{userLogged:!1}),r(Object(v.a)({},t,{userLogged:!1,jwt:null,username:null})),n([{id:Ce,payload:{userLoggedIn:!1}}])}}],ke=t(454),Ie=t(453),De=function(){u.a.selectAggregate(Ue).command(Ae,{show:!1})},Le=function(e,a,t){u.a.selectAggregate(Ue).command(we,{username:e,password:a},t)};function Re(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),m=o[0],s=o[1],d=Object(u.b)("SessionAggregate",(function(e){return e.loginModalVisible})),g=Object(i.a)(d,1)[0];return Object(n.useEffect)((function(){c(!1),s(!1)}),[g]),r.a.createElement(ke.a,{open:g,dimmer:"blurring",size:"small",onClose:function(){return De()}},!m&&r.a.createElement(O.a,{color:"teal",icon:"user",content:"Enter your credentials"}),m&&r.a.createElement(O.a,{color:"red",icon:"user",content:"Wrong credentials: try again"}),r.a.createElement(ke.a.Content,null,r.a.createElement(Ie.a,null,r.a.createElement(Ie.a.Field,null,r.a.createElement(Ie.a.Input,{disabled:!0,value:"testuser",label:"Enter Username"})),r.a.createElement(Ie.a.Field,null,r.a.createElement(Ie.a.Input,{disabled:!0,value:"password",label:"Enter Password",type:"password"})))),r.a.createElement(ke.a.Actions,null,r.a.createElement(y.a,{disabled:t,color:"grey",onClick:function(){return De()}},r.a.createElement(w.a,{name:"cancel"})," Cancel"),r.a.createElement(y.a,{loading:t,disabled:t,color:"teal",onClick:function(){c(!0),Le("MichaelJordan23","wrongPassword",(function(e){e.reasonString,e.meta;s(!0),c(!1)}))}},r.a.createElement(w.a,{name:"checkmark"})," Simulate wrong credentials"),r.a.createElement(y.a,{loading:t,disabled:t,color:"teal",onClick:function(){c(!0),Le("MichaelJordan23","air23")}},r.a.createElement(w.a,{name:"checkmark"})," Simulate Successful Login")))}var Ue="SessionAggregate",He={name:Ue,initialState:{userLogged:!1,loginModalVisible:!1,jwt:null,username:null},cmdHandlers:Pe,evtHandlers:_e,bootstrap:function(){u.a.selectAggregate(Ue).publicChannel().reactToCommand(Oe,(function(e,a){e.payload;(0,a.triggerEvents)([{id:be}])})),u.a.selectAggregate(Ue).publicChannel().reactToCommand(ye,(function(e,a){e.payload;(0,a.triggerEvents)([{id:ve}])}))}};var xe=function(){var e=Object(u.b)("NavigationAggregate",(function(e){return e.currentPage})),a=Object(i.a)(e,1)[0];return r.a.createElement("div",{style:{background:"#f8f9fa"}},r.a.createElement(o.a,null,r.a.createElement(Re,null),r.a.createElement(P,{shoppingCartMenuItem:r.a.createElement(se,null)}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(I,null),r.a.createElement("br",null),r.a.createElement("br",null),(!a||"home"===a)&&r.a.createElement(q,null),"product"===a&&r.a.createElement(X,null),"checkout"===a&&r.a.createElement(ge,null),r.a.createElement(ae,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me;(Me=[He,ne,L,pe]).forEach((function(e){var a=e.name,t=e.initialState,n=void 0===t?{}:t,r=e.cmdHandlers,c=void 0===r?[]:r,l=e.evtHandlers,i=void 0===l?[]:l;!function(e,a,t){a&&a.forEach((function(a){var t=a.command,n=a.handler,r=a.onError,c=void 0===r?null:r;e.reactToCommand(t,n,c)})),t&&t.forEach((function(a){var t=a.command,n=a.handler,r=a.onError,c=void 0===r?null:r;e.reactToEvent(t,n,c)}))}(u.a.createAggregate(a,n),c,i)})),Me.forEach((function(e){var a=e.bootstrap;return(void 0===a?function(){}:a)()})),l.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[260,1,2]]]);
//# sourceMappingURL=main.511be4cc.chunk.js.map